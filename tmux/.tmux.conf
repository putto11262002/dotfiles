# Enable mouse support in tmux, allowing scrolling, pane resizing, and selection with the mouse.
set -g mouse on

# Use vi-style keybindings in tmux copy mode and status line.
# This allows navigation using h, j, k, l and other vi-like controls.
set -g mode-keys vi
set -g status-keys vi

# Window/tab names: show the current working directory (basename) of the active pane
# instead of the running process name.
# Example: "/Users/me/projects/myapp" -> "myapp"
set -g allow-rename off
set -g automatic-rename on
set -g automatic-rename-format "#{b:pane_current_path}"

# Ensure that new windows and panes open in the same directory as the current pane.
# This prevents new panes from defaulting to the user's home directory.
bind c new-window -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Keybindings for quick pane navigation using vim-like movement keys.
# These allow moving between panes without using the default prefix-arrow keys.
bind-key h select-pane -L  # Move to the left pane
bind-key j select-pane -D  # Move to the pane below
bind-key k select-pane -U  # Move to the pane above
bind-key l select-pane -R  # Move to the right pane

# Move window to the left
bind-key -n S-Left swap-window -t -1\; select-window -t -1
# Move window to the right
bind-key -n S-Right swap-window -t +1\; select-window -t +1

# Nord theme configuration.
# Setting this to "1" ensures compatibility when using fonts without powerline glyphs.
set -g @nord_tmux_no_patched_font "1"

# Plugin management with TPM (Tmux Plugin Manager).
# These plugins enhance tmux functionality and provide sensible defaults.
set -g @plugin 'tmux-plugins/tpm'             # TPM itself, required for managing plugins.
set -g @plugin 'tmux-plugins/tmux-sensible'   # Sensible defaults for tmux.

set -g @plugin "arcticicestudio/nord-tmux"
set -g @plugin 'tmux-plugins/tmux-resurrect'

# Initialize TPM (keep this line at the end of tmux.conf).
run '~/.tmux/plugins/tpm/tpm'
